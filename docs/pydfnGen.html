<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pydfnworks: dfnGen &mdash; dfnWorks 2.7 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=ab527d87"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pydfnworks: dfnFlow" href="pydfnFlow.html" />
    <link rel="prev" title="pydfnworks: the dfnWorks python package" href="pydfnworks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index_docs.html" class="icon icon-home">
            dfnWorks
              <img src="_static/dfnworks_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.7, LANL, Docs: LA-UR-17-22216, Software: LA-CC-17-027
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Welcome To dfnWorks</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Example Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setting and Running up dfnWorks</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydfnworks.html">pydfnworks: the dfnWorks python package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pydfnworks: dfnGen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dfngen">dfnGen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-fracture-families">Adding Fracture Families</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-user-fractures">Adding User Fractures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-user-fractures-from-a-file">Adding User Fractures From a File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#print-parameter-information">Print Parameter Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.input_checking.user_defined_fracture_functions.print_user_fracture_information"><code class="docutils literal notranslate"><span class="pre">print_user_fracture_information()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.input_checking.print_domain_parameters"><code class="docutils literal notranslate"><span class="pre">print_domain_parameters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.input_checking.print_family_information"><code class="docutils literal notranslate"><span class="pre">print_family_information()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#processing-generator-input">Processing Generator Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.generation.generator">Running the Generator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.generator.create_network"><code class="docutils literal notranslate"><span class="pre">create_network()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.generator.dfn_gen"><code class="docutils literal notranslate"><span class="pre">dfn_gen()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.generator.grab_polygon_data"><code class="docutils literal notranslate"><span class="pre">grab_polygon_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.generator.make_working_directory"><code class="docutils literal notranslate"><span class="pre">make_working_directory()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.generation.output_report.gen_output">Analysis of Generated DFN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.output_report.gen_output.output_report"><code class="docutils literal notranslate"><span class="pre">output_report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information-on-the-modification-of-hydraulic-properties-of-the-dfn">Additional Information on the Modification of Hydraulic Properties of the DFN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.generation.stress">Modification of hydraulic properties of the DFN based on background stress field</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.generation.stress.stress_based_apertures"><code class="docutils literal notranslate"><span class="pre">stress_based_apertures()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#meshing-lagrit">Meshing - LaGriT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn">Primary DFN meshing driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn.mesh_network"><code class="docutils literal notranslate"><span class="pre">mesh_network()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper">Meshing helper methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.create_mesh_links"><code class="docutils literal notranslate"><span class="pre">create_mesh_links()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.inp2gmv"><code class="docutils literal notranslate"><span class="pre">inp2gmv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.inp2vtk_python"><code class="docutils literal notranslate"><span class="pre">inp2vtk_python()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.run_lagrit_script"><code class="docutils literal notranslate"><span class="pre">run_lagrit_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.add_attribute_to_mesh.add_variable_to_mesh"><code class="docutils literal notranslate"><span class="pre">add_variable_to_mesh()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#udfm">UDFM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.meshing.udfm.map2continuum">Creating an upscaled mesh of the DFN (UDFM)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.udfm.map2continuum.map_to_continuum"><code class="docutils literal notranslate"><span class="pre">map_to_continuum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.udfm.upscale.upscale"><code class="docutils literal notranslate"><span class="pre">upscale()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.udfm.false_connections.check_false_connections"><code class="docutils literal notranslate"><span class="pre">check_false_connections()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-pydfnworks.dfnGen.meshing.mapdfn_ecpm.mapdfn_ecpm">Map-DFN upscaling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.mapdfn_ecpm.mapdfn_ecpm.mapdfn_ecpm"><code class="docutils literal notranslate"><span class="pre">mapdfn_ecpm()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dfm">DFM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-pydfnworks.dfnGen.meshing.dfm.mesh_dfm">Creating a conforming DFM mesh DFN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydfnworks.dfnGen.meshing.dfm.mesh_dfm.mesh_dfm"><code class="docutils literal notranslate"><span class="pre">mesh_dfm()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pydfnFlow.html">pydfnworks: dfnFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydfnTrans.html">pydfnworks: dfnTrans</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydfnGraph.html">pydfnworks: dfnGraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydfnWorks-well.html">pydfnworks: Well Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfngen.html">dfnGen - C++ Generation Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfnflow.html">dfnFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfntrans.html">dfnTrans</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Run Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">dfnWorks Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">dfnWorks Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index_docs.html">dfnWorks</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index_docs.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">pydfnworks: dfnGen</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pydfnGen.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pydfnworks-dfngen">
<span id="dfnworks-python-chapter-dfngen"></span><h1>pydfnworks: dfnGen<a class="headerlink" href="#pydfnworks-dfngen" title="Link to this heading"></a></h1>
<p>DFN Class functions used in network generation and meshing</p>
<section id="dfngen">
<h2>dfnGen<a class="headerlink" href="#dfngen" title="Link to this heading"></a></h2>
<section id="adding-fracture-families">
<h3>Adding Fracture Families<a class="headerlink" href="#adding-fracture-families" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_fracture_family</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">family_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p32</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta_distribution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strike</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plunge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hy_variable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hy_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hy_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/fracture_family.html#add_fracture_family"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Generates a fracture family</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>DFN object</em>) – </p></li>
<li><p><strong>shape</strong> (<em>'rect'</em><em> or </em><em>'ell' deines the fracture family shape</em>) – </p></li>
<li><p><strong>distribution</strong> (<em>'tpl'</em><em>, </em><em>'log_normal'</em><em>, </em><em>'exp'</em><em>, or </em><em>'constant' defines the sample distribution for the fracture radius</em>) – </p></li>
<li><p><strong>kappa</strong> (<em>concentration param</em><em> of </em><em>the von Mises-Fisher distribution</em>) – </p></li>
<li><p><strong>family_number</strong> (<em>fracutre family id. default = None</em>) – </p></li>
<li><p><strong>probability</strong> (<em>probabily</em><em> of </em><em>a fracture belonging to this family. default = None. use if stopCondition = 0</em>) – </p></li>
<li><p><strong>p32</strong> (<em>fracture intensity for the family. default = None. use if stopCondition = 1</em>) – </p></li>
<li><p><strong>layer</strong> (<em>assigns fracture family to a layer in the domain. default = 0</em>) – </p></li>
<li><p><strong>region</strong> (<em>assigns fracture family to a region in the domain. default = 0</em>) – </p></li>
<li><p><strong>number_of_points</strong> (<em>specifies the number</em><em> of </em><em>vertices defining th eboundary</em><em> of </em><em>each fracture. default = 8</em>) – </p></li>
<li><p><strong>aspect</strong> (<em>the aspect ratio</em><em> of </em><em>the fractures. default = 1</em>) – </p></li>
<li><p><strong>beta_distribution</strong> (<em>0</em><em> (</em><em>uniform distribtuion</em><em> [</em><em>0</em><em>,</em><em>2pi</em><em>) or </em><em>1</em><em> (</em><em>constant rotation specfied by ebeta</em><em>) </em><em>rotation</em><em> of </em><em>each fractures normal vector. default 0</em>) – </p></li>
<li><p><strong>beta</strong> (<em>angle fo constant rotation. use if beta_distribution = 1. default = 0</em>) – </p></li>
<li><p><strong>theta</strong> (<em>use if orientationOption = 0</em><em> (</em><em>default</em><em>)</em><em>. default = None</em>) – </p></li>
<li><p><strong>phi</strong> (<em>use if orientationOption = 0</em><em> (</em><em>default</em><em>)</em><em>. default = None</em>) – </p></li>
<li><p><strong>trend</strong> (<em>use if orientationOption = 1. default = None</em>) – </p></li>
<li><p><strong>plunge</strong> (<em>use if orientationOption = 1. default = None</em>) – </p></li>
<li><p><strong>dip</strong> (<em>use if orientationOption = 2. default = None</em>) – </p></li>
<li><p><strong>strike</strong> (<em>use if orientationOption = 2. default = None</em>) – </p></li>
<li><p><strong>alpha</strong> (<em>parameter for 'tpl'. default = None</em>) – </p></li>
<li><p><strong>log_mean</strong> (<em>parameter for 'log_normal'. default = None</em>) – </p></li>
<li><p><strong>log_std</strong> (<em>parameter for 'log_normal'. default = None</em>) – </p></li>
<li><p><strong>exp_mean</strong> (<em>parameter for 'exp'. default = None</em>) – </p></li>
<li><p><strong>constant</strong> (<em>parameter for 'constant'. default = None</em>) – </p></li>
<li><p><strong>min_radius</strong> (<em>minimum fracture radius for 'tpl' 'log_normal'</em><em> or </em><em>'exp'. default = None</em>) – </p></li>
<li><p><strong>max_radius</strong> (<em>maximum fracture radius for 'tpl' 'log_normal'</em><em> or </em><em>'exp'. default = None</em>) – </p></li>
<li><p><strong>hy_variable</strong> (<em>hydraulic variable to assign values to. options are 'aperture'</em><em>, </em><em>'permeability'</em><em>, </em><em>'transmissivity'</em><em>,</em>) – </p></li>
<li><p><strong>hy_function</strong> (<em>relationship between hydraulic variable and fracture radius. options are 'correlated'</em><em>, </em><em>'semi-correlated'</em><em>, </em><em>'constant'</em><em>, </em><em>'log-normal'</em>) – </p></li>
<li><p><strong>hy_params</strong> (<em>parameters for the hydraulic function. see next lines for syntax and options</em>) – if ‘correlated’ –&gt; {“alpha”:value, “beta:value}
if ‘semi-correlated’ –&gt; {“alpha”:value, “beta”:value, “sigma”:value}
if ‘constant’ –&gt; {“mu”:value}
if ‘log-normal’ –&gt; {“mu”:value, “sigma”:value}</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Populated fracture family dictionary for specified family</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>See <a class="reference external" href="https://dfnworks.lanl.gov/dfngen.html#domain-parameters">https://dfnworks.lanl.gov/dfngen.html#domain-parameters</a> for more
information about parameters</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DFN</span><span class="o">.</span><span class="n">add_fracture_family</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="s2">&quot;ell&quot;</span><span class="p">,</span>
                    <span class="n">distribution</span><span class="o">=</span><span class="s2">&quot;tpl&quot;</span><span class="p">,</span>
                    <span class="n">alpha</span><span class="o">=</span><span class="mf">1.8</span><span class="p">,</span>
                    <span class="n">min_radius</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                    <span class="n">max_radius</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
                    <span class="n">kappa</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                    <span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">phi</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">aspect</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">beta_distribution</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">beta</span><span class="o">=</span><span class="mf">45.0</span><span class="p">,</span>
                    <span class="n">p32</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span>
                    <span class="n">hy_variable</span><span class="o">=</span><span class="s1">&#39;aperture&#39;</span><span class="p">,</span>
                    <span class="n">hy_function</span><span class="o">=</span><span class="s1">&#39;correlated&#39;</span><span class="p">,</span>
                    <span class="n">hy_params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">5</span><span class="p">,</span>
                        <span class="s2">&quot;beta&quot;</span><span class="p">:</span> <span class="mf">0.5</span>
                    <span class="p">})</span>
</pre></div>
</div>
</section>
<section id="adding-user-fractures">
<h3>Adding User Fractures<a class="headerlink" href="#adding-user-fractures" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_user_fract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radii</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'degree'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_option</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normal_vector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trend_plunge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dip_strike</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_vertices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transmissivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aperture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/user_defined_fracture_functions.html#add_user_fract"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Specifies user defined fracture parameters for the DFN.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>string</em>) – The desired shape of the fracture options are ‘rect’, ‘ell’, and ‘poly’ - Required</p></li>
<li><p><strong>radii</strong> (<em>float</em>) – 1/2 size of the fracture in meters - Required</p></li>
<li><p><strong>translation</strong> (<em>list</em><em> of </em><em>floats</em><em> [</em><em>3</em><em>]</em>) – Fracture center</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – The name of the user defined fracture file. Default is user_defined_{shape}.dat</p></li>
<li><p><strong>aspect_ratio</strong> (<em>float</em>) – Fracture aspect ratio</p></li>
<li><p><strong>beta</strong> (<em>float</em>) – Rotation angle around center of the fracture</p></li>
<li><p><strong>angle_option</strong> (<em>string</em>) – Angle option ‘degree’ or ‘radian’. Default is degree</p></li>
<li><p><strong>orientation_option</strong> (<em>string</em>) – Choice of fracture orienation  ‘normal’, ‘trend_plunge’, ‘dip_strike’</p></li>
<li><p><strong>normal_vector</strong> (<em>list</em><em> [</em><em>3</em><em>]</em>) – normal vector of the fracture</p></li>
<li><p><strong>trend_plunge</strong> (<em>list</em><em> [</em><em>2</em><em>]</em>) – trend and plunge of the fracture</p></li>
<li><p><strong>dip_strike</strong> (<em>list</em><em> [</em><em>2</em><em>]</em>) – dip and strike of the fracture</p></li>
<li><p><strong>number_of_vertices</strong> (<em>int</em>) – Number of vertices on the fracture boundary.</p></li>
<li><p><strong>permeability</strong> (<em>float</em>) – Permeability of the fracture</p></li>
<li><p><strong>transmissivity</strong> (<em>float</em>) – Fracture Tramsmissivity</p></li>
<li><p><strong>aperture</strong> (<em>float</em>) – Hydraulic aperture of the fracture</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None - fracture dictionaries are attached to the DFN object</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Please be aware, the user fracture files can only be automatically written for
ellipses and rectangles not specified by coordinate.</p>
<p>See</p>
<p><a class="reference external" href="https://dfnworks.lanl.gov/dfngen.html#user-defined-fracture-generation-parameters">https://dfnworks.lanl.gov/dfngen.html#user-defined-fracture-generation-parameters</a></p>
<p>for additional information</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DFN</span><span class="o">.</span><span class="n">add_user_fract</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="s1">&#39;ell&#39;</span><span class="p">,</span>
               <span class="n">radii</span><span class="o">=</span><span class="mf">.4</span><span class="p">,</span>
               <span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">translation</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
               <span class="n">normal_vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
               <span class="n">number_of_vertices</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
               <span class="n">aperture</span><span class="o">=</span><span class="mf">1.0e-5</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="adding-user-fractures-from-a-file">
<h3>Adding User Fractures From a File<a class="headerlink" href="#adding-user-fractures-from-a-file" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_user_fract_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nPolygons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_coord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aperture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transmissivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/user_defined_fracture_functions.html#add_user_fract_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Sets up paths for fractures defined in user input file. When inserting user fractures from file, hydraulic properties must be provided as a list of length nPolygons (number of fractures defined in the file)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – path to source file</p></li>
<li><p><strong>shape</strong> (<em>string</em>) – The shape of the fracture options are ‘rect’, ‘ell’, and ‘poly’ - Required</p></li>
<li><p><strong>by_coord</strong> (<em>boolean</em>) – True / False of file format for coordinate or general input</p></li>
<li><p><strong>nPolygons</strong> (<em>int</em>) – The number of polygons specified in the file</p></li>
<li><p><strong>permeability</strong> (<em>list</em><em> or </em><em>array</em>) – Permeabilities of the fractures</p></li>
<li><p><strong>transmissivity</strong> (<em>list</em><em> or </em><em>array</em>) – Fracture Tramsmissivities</p></li>
<li><p><strong>aperture</strong> (<em>list</em><em> or </em><em>array</em>) – Hydraulic apertures of the fracture</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Does not write the file, only sets up paths</p>
<p>~/src/dfnworks-aidan/pydfnworks/pydfnworks/</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DFN</span><span class="o">.</span><span class="n">add_user_fract_from_file</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="s2">&quot;poly&quot;</span><span class="p">,</span>
               <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">src_path</span><span class="si">}</span><span class="s1">/polygons.dat&#39;</span><span class="p">,</span>
               <span class="n">permeability</span> <span class="o">=</span> <span class="mf">1e-12</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="print-parameter-information">
<h3>Print Parameter Information<a class="headerlink" href="#print-parameter-information" title="Link to this heading"></a></h3>
<p>Note: Some of these functions are automatically called when processing the input.</p>
<dl class="py function" id="module-pydfnworks.dfnGen.generation.input_checking.user_defined_fracture_functions">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.input_checking.user_defined_fracture_functions.print_user_fracture_information">
<span class="sig-name descname"><span class="pre">print_user_fracture_information</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/user_defined_fracture_functions.html#print_user_fracture_information"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.input_checking.user_defined_fracture_functions.print_user_fracture_information" title="Link to this definition"></a></dt>
<dd><p>Prints information about a user defined fracture to screen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>DFN object</em>) – </p></li>
<li><p><strong>shape</strong> (<em>string</em>) – The shape of the fracture options are ‘rect’, ‘ell’, and ‘poly’ - Required</p></li>
<li><p><strong>fracture_number</strong> (<em>int</em>) – Index of fracture. If none (default), then information about all user fractures of input shape are printed to screen</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>None</p>
</dd></dl>

<dl class="py function" id="module-pydfnworks.dfnGen.generation.input_checking">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.input_checking.print_domain_parameters">
<span class="sig-name descname"><span class="pre">print_domain_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/check_input.html#print_domain_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.input_checking.print_domain_parameters" title="Link to this definition"></a></dt>
<dd><p>Prints domain parameters to screen
:param self:
:type self: DFN Class Object
:param print_all: If True, all parameters will be printed to screen, even those without a value. If False (default), only those with a value will be printed to screen.
:type print_all: bool</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.input_checking.print_family_information">
<span class="sig-name descname"><span class="pre">print_family_information</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">family_number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/fracture_family.html#print_family_information"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.input_checking.print_family_information" title="Link to this definition"></a></dt>
<dd><p>Creates a fracture family dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>DFN object</em>) – </p></li>
<li><p><strong>family_number</strong> (<em>the id</em><em> of </em><em>the fracture family information to be returned</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Prints fracture family parameters to terminal screen</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>None</p>
</dd></dl>

</section>
<section id="processing-generator-input">
<h3>Processing Generator Input<a class="headerlink" href="#processing-generator-input" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">check_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/input_checking/check_input.html#check_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Checks input file for DFNGen to make sure all necessary parameters are defined. Then writes out a “clean” version of the input file</p>
<blockquote>
<div><dl class="simple">
<dt>Input Format Requirements:</dt><dd><ul class="simple">
<li><p>Each parameter must be defined on its own line (separate by newline)</p></li>
<li><p>A parameter (key) MUST be separated from its value by a colon ‘:’ (ie. –&gt; key: value)</p></li>
<li><p>Values may also be placed on lines after the ‘key’</p></li>
<li><p>Comment Format:  On a line containing  // or / <code class="docutils literal notranslate"><span class="pre">*</span></code>, nothing after <code class="docutils literal notranslate"><span class="pre">*</span></code> / or // will be processed  but text before a comment will be processed</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong> (<em>DFN Class Object</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>There are warnings and errors raised in this function. Warning will let you continue while errors will stop the run. Continue past warnings are your own risk.</p>
<p>From File feature is no longer maintained. Functions should be removed in the near future.</p>
</dd></dl>

</section>
<section id="module-pydfnworks.dfnGen.generation.generator">
<span id="running-the-generator"></span><h3>Running the Generator<a class="headerlink" href="#module-pydfnworks.dfnGen.generation.generator" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.generator.create_network">
<span class="sig-name descname"><span class="pre">create_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/generator.html#create_network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.generator.create_network" title="Link to this definition"></a></dt>
<dd><p>Execute dfnGen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong> – DFN object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>After generation is complete, this script checks whether the generation of the fracture network failed or succeeded based on the existence of the file params.txt.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.generator.dfn_gen">
<span class="sig-name descname"><span class="pre">dfn_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/generator.html#dfn_gen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.generator.dfn_gen" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Wrapper script the runs the dfnGen workflow:</dt><dd><ol class="arabic simple">
<li><p>make_working_directory: Create a directory with name of job</p></li>
<li><p>check_input: Check input parameters and create a clean version of the input file</p></li>
<li><p>create_network: Create network. DFNGEN v2.0 is called and creates the network</p></li>
<li><p>output_report: Generate a PDF summary of the DFN generation</p></li>
<li><p>mesh_network: calls module dfnGen_meshing and runs LaGriT to mesh the DFN</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – DFN object</p></li>
<li><p><strong>output</strong> (<em>bool</em>) – If True, output pdf will be created. If False, no pdf is made</p></li>
<li><p><strong>visual_mode</strong> (<em>None</em>) – If the user wants to run in a different meshing mode from what is in params.txt, set visual_mode = True/False on command line to override meshing mode</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Details of each portion of the routine are in those sections</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.generator.grab_polygon_data">
<span class="sig-name descname"><span class="pre">grab_polygon_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/generator.html#grab_polygon_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.generator.grab_polygon_data" title="Link to this definition"></a></dt>
<dd><p>If flag self.store_polygon_data is set to True, the information stored in polygon.dat is written to a dictionary self.polygons.
To access the points that define an individual polygon, call self.polygons[f’poly{i}’] where i is a number between 1 and the number of defined polygons. This returns an array of coordinates in the format np.array([x1,y1,z1],[x2,y2,z2],…[xn,yn,zn])</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong> (<em>DFN object</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.generator.make_working_directory">
<span class="sig-name descname"><span class="pre">make_working_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/generator.html#make_working_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.generator.make_working_directory" title="Link to this definition"></a></dt>
<dd><p>Make working directory for dfnWorks Simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – DFN object</p></li>
<li><p><strong>delete</strong> (<em>bool</em>) – If True, deletes the existing working directory. Default = False</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If directory already exists, user is prompted if they want to overwrite and proceed. If not, program exits.</p>
</dd></dl>

</section>
<section id="module-pydfnworks.dfnGen.generation.output_report.gen_output">
<span id="analysis-of-generated-dfn"></span><h3>Analysis of Generated DFN<a class="headerlink" href="#module-pydfnworks.dfnGen.generation.output_report.gen_output" title="Link to this heading"></a></h3>
<dl class="field-list simple">
<dt class="field-odd">filename<span class="colon">:</span></dt>
<dd class="field-odd"><p>gen_output.py</p>
</dd>
<dt class="field-even">synopsis<span class="colon">:</span></dt>
<dd class="field-even"><p>Main driver for dfnGen output report</p>
</dd>
<dt class="field-odd">version<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.0</p>
</dd>
<dt class="field-even">maintainer<span class="colon">:</span></dt>
<dd class="field-even"><p>Jeffrey Hyman</p>
</dd>
<dt class="field-odd">moduleauthor<span class="colon">:</span></dt>
<dd class="field-odd"><p>Jeffrey Hyman &lt;<a class="reference external" href="mailto:jhyman&#37;&#52;&#48;lanl&#46;gov">jhyman<span>&#64;</span>lanl<span>&#46;</span>gov</a>&gt;</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.output_report.gen_output.output_report">
<span class="sig-name descname"><span class="pre">output_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dfnGen_output_report'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/output_report/gen_output.html#output_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.output_report.gen_output.output_report" title="Link to this definition"></a></dt>
<dd><p>Creates a PDF output report for the network created by DFNGen. Plots of the fracture lengths, locations, orientations are produced for each family. Files are written into “output_dir/family_{id}/”. Information about the whole network are also created and written into “output_dir/network/”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class object</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Toggle for the amount of information printed to screen. If true, progress information printed to screen</p></li>
<li><p><strong>output_dir</strong> (<em>string</em>) – Name of directory where all plots are saved</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Final output report is named “jobname”_output_report.pdf
User defined fractures (ellipses, rectangles, and polygons) are not supported at this time.</p>
</dd></dl>

</section>
<section id="additional-information-on-the-modification-of-hydraulic-properties-of-the-dfn">
<h3>Additional Information on the Modification of Hydraulic Properties of the DFN<a class="headerlink" href="#additional-information-on-the-modification-of-hydraulic-properties-of-the-dfn" title="Link to this heading"></a></h3>
<p>Hydraulic properties can be assigned to fractures based on four different models. One can assign hydraulic aperture <img class="math" src="_images/math/68c7c8c65602677ab56cf7fd88002023f0edc575.png" alt="b"/>, permeability, <img class="math" src="_images/math/9630132210b904754c9ab272b61cb527d12263ca.png" alt="k"/>, or transmissivity <img class="math" src="_images/math/e8dea8254118f111b5fb20895b03528c17566f06.png" alt="T"/>. Below we present the functions for hydraulic aperture, but the equations for other values are the same.</p>
<p>The first is a perfectly correlated model where the hydraulic property is a function of the fracture radius</p>
<div class="math">
<p><img src="_images/math/5b514159f8b6bf75e6317d628c7caf2df737075c.png" alt="b = \alpha r^\beta"/></p>
</div><p>The keyword for this model is correlated.</p>
<p>The second is a semi-correlated correlated model where the hydraulic property is a function of the fracture radius</p>
<div class="math">
<p><img src="_images/math/ff4552ec4e1115499121b2cc24265a14c7aa7b1c.png" alt="\log_{10}(b) = \log_{10}(\alpha r^\beta) + \sigma \mathcal{N}(0,1)"/></p>
</div><p>where a stochastic term is included into the correlated model
to account for uncertainty and variability between fractures of the same size. The strength of the stochastic term is determined by the variance of a log-normal distribution <img class="math" src="_images/math/b52df27bfb0b1e3af0c2c68a7b9da459178c2a7d.png" alt="\sigma"/> and the stochastic term is an independent identically distributed random variable sampled from a normal distribution with mean 0 and variance 1, <img class="math" src="_images/math/a963655a01fb22852c131f0d8e66066026c39fb8.png" alt="\mathcal{N}(0,1)"/>. This model results in a log-normal distribution of fracture transmissivities around a positively cor- related power law mean. We refer to this model as semicorrelated.</p>
<p>The keyword for this model is semi-correlated.</p>
<p>The third model assumes that there is no correlation between the fracture size and transmissivity and all values are independent identically distributed random variables from a log-normal distribution with speci- fied mean <img class="math" src="_images/math/4a3598141469c2555591e66606a1b86d4ec6dca9.png" alt="\mu"/> and variance <img class="math" src="_images/math/b52df27bfb0b1e3af0c2c68a7b9da459178c2a7d.png" alt="\sigma"/>,</p>
<div class="math">
<p><img src="_images/math/5fd160b4cce0043bb255b69534567d66c7701e55.png" alt="\log_{10}(b) = \mu + \sigma \mathcal{N}(0,1)"/></p>
</div><p>The keyword for this model is log-normal.</p>
<p>The fourth model represents an assumption that in addition to no relationship between size and hydraulic properties, there is no variation between fractures</p>
<div class="math">
<p><img src="_images/math/5f01a802667a3ba5b8994a25f3fdf78bf8593563.png" alt="b = \mu"/></p>
</div><p>The keyword for this model is constant.</p>
<p>Notes:</p>
<p>See Hyman et al. 2016 “Fracture size and transmissivity correlations: Implications for transport simulations in sparse three-dimensional discrete fracture networks following a truncated power law distribution of fracture size” Water Resources Research for more details</p>
<p>Changes in hydraulic properties are assigned when defining a fracture family or user defined fracture. User defined fractures currently only support constant hydraulic properties.</p>
</section>
<section id="module-pydfnworks.dfnGen.generation.stress">
<span id="modification-of-hydraulic-properties-of-the-dfn-based-on-background-stress-field"></span><h3>Modification of hydraulic properties of the DFN based on background stress field<a class="headerlink" href="#module-pydfnworks.dfnGen.generation.stress" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.generation.stress.stress_based_apertures">
<span class="sig-name descname"><span class="pre">stress_based_apertures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">friction_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilation_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical_shear_displacement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.003</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_modulus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_stiffness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400000000000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/generation/stress.html#stress_based_apertures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.generation.stress.stress_based_apertures" title="Link to this definition"></a></dt>
<dd><p>Takes stress tensor as input (defined in dfn run file) and calculates new apertures based on Bandis equations. New aperture and permeability values are written to files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma_mat</strong> (<em>array</em>) – 3 x 3 stress tensor (units in Pa)</p></li>
<li><p><strong>friction_angle</strong> (<em>float</em>) – Friction angle (Degrees)</p></li>
<li><p><strong>dilation_angle</strong> (<em>float</em>) – Dilation angle (Degrees)</p></li>
<li><p><strong>critical_shear_displacement</strong> (<em>float</em>) – Critical shear displacement</p></li>
<li><p><strong>shear_modulus</strong> (<em>float</em>) – Shear modulus (Pa)</p></li>
<li><p><strong>min_b</strong> (<em>float</em>) – Minimum aperture (m)</p></li>
<li><p><strong>shear_stiffness</strong> (<em>float</em>) – Shear stiffness (Pa/m)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For details of implementation see</p>
<p>“Sweeney, Matthew Ryan, and J. D. Hyman. “Stress effects on flow and transport in three‐dimensional fracture networks.” Journal of Geophysical Research: Solid Earth 125.8 (2020): e2020JB019754.”</p>
<p>and</p>
<p>Baghbanan, Alireza, and Lanru Jing. “Stress effects on permeability in a fractured rock mass with correlated fracture length and aperture.” International journal of rock mechanics and mining sciences 45.8 (2008): 1320-1334.</p>
<p>and</p>
<p>Zhao, Zhihong, et al. “Impact of stress on solute transport in a fracture network: A comparison study.” Journal of Rock Mechanics and Geotechnical Engineering 5.2 (2013): 110-123.</p>
</dd></dl>

</section>
</section>
<section id="meshing-lagrit">
<h2>Meshing - LaGriT<a class="headerlink" href="#meshing-lagrit" title="Link to this heading"></a></h2>
<section id="module-pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn">
<span id="primary-dfn-meshing-driver"></span><h3>Primary DFN meshing driver<a class="headerlink" href="#module-pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn" title="Link to this heading"></a></h3>
<dl class="py function" id="module-mesh_dfn.py">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn.mesh_network">
<span class="sig-name descname"><span class="pre">mesh_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uniform_mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_resolution_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">well</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleanup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/mesh_dfn/mesh_dfn.html#mesh_network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn.mesh_network" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Mesh fracture network using LaGriT</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class</p></li>
<li><p><strong>uniform_mesh</strong> (<em>bool</em>) – toggle for uniform or variable mesh. Default : False</p></li>
<li><p><strong>min_dist</strong> (<em>float</em>) – Defines the minimum distance from the intersections with resolution h/2. This value is the factor of h, distance = min_dist * h</p></li>
<li><p><strong>max_dist</strong> (<em>float</em>) – Defines the minimum distance from the intersections with resolution max_resolution * h. This value is the factor of h, distance = max_dist * h</p></li>
<li><p><strong>max_resolution_factor</strong> (<em>float</em>) – Maximum factor of the mesh resolultion (max_resolution <a href="#id1"><span class="problematic" id="id2">*</span></a>h). Depending on the slope of the linear function and size of the fracture, this may not be realized in the mesh.</p></li>
<li><p><strong>cleanup</strong> (<em>bool</em>) – toggle to clean up directory (remove meshing files after a run). Default : True</p></li>
<li><p><strong>strict</strong> (<em>bool</em>) – Toggle if a few mesh errors are acceptable. default is true</p></li>
<li><p><strong>quiet</strong> (<em>bool</em>) – Toggle to turn on/off verbose information to screen about meshing. Default is true, does not print to screen</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ol class="arabic simple">
<li><p>All fractures in self.prune_file must intersect at least 1 other fracture</p></li>
</ol>
</dd></dl>

</section>
<section id="module-pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper">
<span id="meshing-helper-methods"></span><h3>Meshing helper methods<a class="headerlink" href="#module-pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper" title="Link to this heading"></a></h3>
<dl class="py function" id="module-mesh_dfn_helper.py">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.create_mesh_links">
<span class="sig-name descname"><span class="pre">create_mesh_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/mesh_dfn/mesh_dfn_helper.html#create_mesh_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.create_mesh_links" title="Link to this definition"></a></dt>
<dd><p>Makes symlinks for files in path required for meshing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>DFN object</em>) – </p></li>
<li><p><strong>path</strong> (<em>string</em>) – Path to where meshing files are located</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.inp2gmv">
<span class="sig-name descname"><span class="pre">inp2gmv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inp_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/mesh_dfn/mesh_dfn_helper.html#inp2gmv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.inp2gmv" title="Link to this definition"></a></dt>
<dd><p>Convert inp file to gmv file, for general mesh viewer. Name of output file for base.inp is base.gmv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class</p></li>
<li><p><strong>inp_file</strong> (<em>str</em>) – Name of inp file if not an attribure of self</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.inp2vtk_python">
<span class="sig-name descname"><span class="pre">inp2vtk_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/mesh_dfn/mesh_dfn_helper.html#inp2vtk_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.inp2vtk_python" title="Link to this definition"></a></dt>
<dd><p>Using Python VTK library, convert inp file to VTK file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong> (<em>object</em>) – DFN Class</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For a mesh base.inp, this dumps a VTK file named base.vtk</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.run_lagrit_script">
<span class="sig-name descname"><span class="pre">run_lagrit_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lagrit_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/mesh_dfn/mesh_dfn_helper.html#run_lagrit_script"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.mesh_dfn.mesh_dfn_helper.run_lagrit_script" title="Link to this definition"></a></dt>
<dd><p>Runs LaGriT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>----------</strong> – <dl class="simple">
<dt>lagrit_file<span class="classifier">string</span></dt><dd><p>Name of LaGriT script to run</p>
</dd>
<dt>output_file<span class="classifier">string</span></dt><dd><p>Name of file to dump LaGriT output</p>
</dd>
<dt>quiet<span class="classifier">bool</span></dt><dd><p>If false, information will be printed to screen.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>failure</strong> – If the run was successful, then 0 is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-pydfnworks.dfnGen.meshing.add_attribute_to_mesh">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.add_attribute_to_mesh.add_variable_to_mesh">
<span class="sig-name descname"><span class="pre">add_variable_to_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_file_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_file_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_based</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/add_attribute_to_mesh.html#add_variable_to_mesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.add_attribute_to_mesh.add_variable_to_mesh" title="Link to this definition"></a></dt>
<dd><p>Adds a variable to the nodes of a mesh. Can be either fracture (material) based
or node based.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class</p></li>
<li><p><strong>variable</strong> (<em>string</em>) – name of variable</p></li>
<li><p><strong>variable_file</strong> (<em>string</em>) – name of file containing variable files. Must be a single column where each line corresponds to that node number in the mesh</p></li>
<li><p><strong>mesh_file_in</strong> (<em>string</em>) – Name of source mesh file</p></li>
<li><p><strong>mesh_file_out</strong> (<em>string</em>) – Name of Target mesh file.  If no name if provide, mesh_file_in will be used</p></li>
<li><p><strong>node_based</strong> (<em>bool</em>) – Set to True if variable_file contains node-based values, Set to False
if variable_file provide fracture based values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>lagrit_file</strong> – Name of LaGriT output file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="udfm">
<h2>UDFM<a class="headerlink" href="#udfm" title="Link to this heading"></a></h2>
<section id="module-pydfnworks.dfnGen.meshing.udfm.map2continuum">
<span id="creating-an-upscaled-mesh-of-the-dfn-udfm"></span><h3>Creating an upscaled mesh of the DFN (UDFM)<a class="headerlink" href="#module-pydfnworks.dfnGen.meshing.udfm.map2continuum" title="Link to this heading"></a></h3>
<dl class="py function" id="module-map2continuum.py">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.udfm.map2continuum.map_to_continuum">
<span class="sig-name descname"><span class="pre">map_to_continuum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'octree'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/udfm/map2continuum.html#map_to_continuum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.udfm.map2continuum.map_to_continuum" title="Link to this definition"></a></dt>
<dd><p>This function generates an octree-refined continuum mesh using the
reduced_mesh.inp as input.  To generate the reduced_mesh.inp, one must
turn visualization mode on in the DFN input card.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class</p></li>
<li><p><strong>l</strong> (<em>float</em>) – Size (m) of level-0 mesh element in the continuum mesh</p></li>
<li><p><strong>orl</strong> (<em>int</em>) – Number of total refinement levels in the octree</p></li>
<li><p><strong>path</strong> (<em>string</em>) – path to primary DFN directory</p></li>
<li><p><strong>dir_name</strong> (<em>string</em>) – name of directory where the octree mesh is created</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>octree_dfn.inp<span class="classifier">Mesh file</span></dt><dd><p>Octree-refined continuum mesh</p>
</dd>
<dt>fracX.inp<span class="classifier">Mesh files</span></dt><dd><p>Octree-refined continuum meshes, which contain intersection areas</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-upscale.py">
<span id="module-pydfnworks.dfnGen.meshing.udfm.upscale"></span><dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.udfm.upscale.upscale">
<span class="sig-name descname"><span class="pre">upscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mat_perm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mat_por</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/udfm/upscale.html#upscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.udfm.upscale.upscale" title="Link to this definition"></a></dt>
<dd><p>Generate permeabilities and porosities based on output of map2continuum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class</p></li>
<li><p><strong>mat_perm</strong> (<em>float</em>) – Matrix permeability (in m^2)</p></li>
<li><p><strong>mat_por</strong> (<em>float</em>) – Matrix porosity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>perm_fehm.dat</strong> (<em>text file</em>) – Contains permeability data for FEHM input</p></li>
<li><p><strong>rock_fehm.dat</strong> (<em>text file</em>) – Contains rock properties data for FEHM input</p></li>
<li><p><strong>mesh_permeability.h5</strong> (<em>h5 file</em>) – Contains permeabilites at each node for PFLOTRAN input</p></li>
<li><p><strong>mesh_porosity.h5</strong> (<em>h5 file</em>) – Contains porosities at each node for PFLOTRAN input</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>None</p>
</dd></dl>

<dl class="py function" id="module-false_connections.py">
<span id="module-pydfnworks.dfnGen.meshing.udfm.false_connections"></span><dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.udfm.false_connections.check_false_connections">
<span class="sig-name descname"><span class="pre">check_false_connections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/udfm/false_connections.html#check_false_connections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.udfm.false_connections.check_false_connections" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>object</em>) – DFN Class</p></li>
<li><p><strong>fmc_filname</strong> (<em>string</em>) – name of the pickled dictionary of mesh and fracture intersections</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>num_false_connections</strong> (<em>int</em>) – number of false connections</p></li>
<li><p><strong>num_cell_false</strong> (<em>int</em>) – number of Voronoi cells with false connections</p></li>
<li><p><strong>false_connections</strong> (<em>list</em>) – list of tuples of false connections created by upscaling</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>map2continuum and upscale must be run first to create the fracture/mesh intersection
dictionary. Thus must be run in the main job directory which contains connectivity.dat</p>
</dd></dl>

</section>
</section>
<section id="module-pydfnworks.dfnGen.meshing.mapdfn_ecpm.mapdfn_ecpm">
<span id="map-dfn-upscaling"></span><h2>Map-DFN upscaling<a class="headerlink" href="#module-pydfnworks.dfnGen.meshing.mapdfn_ecpm.mapdfn_ecpm" title="Link to this heading"></a></h2>
<p>mapdfn2pflotran.py</p>
<p>Call methods in mapdfn.py to take output of dfnWorks-Version2.0, create
equivalent continuous porous medium representation, and write parameters
(permeability, porosity, tortuosity) to files for use with PFLOTRAN.</p>
<dl class="simple">
<dt>Usage: Edit values for origin, nx, ny, nz, d, k_background, bulk_por,</dt><dd><p>tortuosity factor, and h5origin.
Paths and filenames are hardwired and may also need to be checked.
As written, they assume script is being called from a subdirectory.
Then: python mapdfn2pflotran.py</p>
</dd>
<dt>Dependencies: mapdfn.py</dt><dd><p>numpy
h5py</p>
</dd>
</dl>
<p>Author:</p>
<p>Date: 07/13/18
SAND Number: SAND2018-7605 O</p>
<dl class="py function">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.mapdfn_ecpm.mapdfn_ecpm.mapdfn_ecpm">
<span class="sig-name descname"><span class="pre">mapdfn_ecpm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix_perm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix_porosity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tortuosity_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lump_diag_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correction_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mapdfn_ecpm'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/mapdfn_ecpm/mapdfn_ecpm.html#mapdfn_ecpm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.mapdfn_ecpm.mapdfn_ecpm.mapdfn_ecpm" title="Link to this definition"></a></dt>
<dd><p>This script takes the top-level directory of the dfn and maps it to an ecpm, saving the ecpm files in that directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>dfnWorks object</em>) – </p></li>
<li><p><strong>cell_size</strong> (<em>float</em>) – The cell size (meters) to use for the meshing</p></li>
<li><p><strong>correction_factor</strong> (<em>boolean</em>) – Apply stairstep correction from EDFM to  not applied to permeability</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<section id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Emily Stein (<a class="reference external" href="mailto:ergiamb&#37;&#52;&#48;sandia&#46;gov">ergiamb<span>&#64;</span>sandia<span>&#46;</span>gov</a>)
Applied Systems Analysis and Research, 8844
Sandia National Laboratories</p>
<p>Edited by Teresa Portone (<a class="reference external" href="mailto:tporton&#37;&#52;&#48;sandia&#46;gov">tporton<span>&#64;</span>sandia<span>&#46;</span>gov</a>) 11/2020 to take arguments.</p>
<p>Rosie Leone</p>
<p>Jeffrey Hyman 07/2023 - Integration with pydfnWorks</p>
</div></blockquote>
<p class="rubric">Notes</p>
</section>
</dd></dl>

</section>
<section id="dfm">
<h2>DFM<a class="headerlink" href="#dfm" title="Link to this heading"></a></h2>
<section id="module-pydfnworks.dfnGen.meshing.dfm.mesh_dfm">
<span id="creating-a-conforming-dfm-mesh-dfn"></span><h3>Creating a conforming DFM mesh DFN<a class="headerlink" href="#module-pydfnworks.dfnGen.meshing.dfm.mesh_dfm" title="Link to this heading"></a></h3>
<dl class="py function" id="module-mesh_dfm.py">
<dt class="sig sig-object py" id="pydfnworks.dfnGen.meshing.dfm.mesh_dfm.mesh_dfm">
<span class="sig-name descname"><span class="pre">mesh_dfm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dfm_mesh'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_percentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleanup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydfnworks/dfnGen/meshing/dfm/mesh_dfm.html#mesh_dfm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydfnworks.dfnGen.meshing.dfm.mesh_dfm.mesh_dfm" title="Link to this definition"></a></dt>
<dd><p>” Creates a conforming mesh of a DFN using a uniform background tetrahedron mesh. The DFN must be meshed using a uniform triangular mesh. (DFN.mesh_network(uniform_mesh = True))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirname</strong> (<em>string</em>) – name of working directory. Default : dfm_mesh</p></li>
<li><p><strong>allowed_percentage</strong> (<em>float</em>) – Percentage of the mesh allowed to be missing and still continue</p></li>
<li><p><strong>cleanup</strong> (<em>bool</em>) – Clean up working directory. If true dep files are moved into subdirectories</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The final mesh is output in exodus format. This requires that LaGriT is built against exodus.</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pydfnworks.html" class="btn btn-neutral float-left" title="pydfnworks: the dfnWorks python package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pydfnFlow.html" class="btn btn-neutral float-right" title="pydfnworks: dfnFlow" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, LANL, LA-UR-17-22216.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>