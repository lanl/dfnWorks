

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; dfnWorks 2.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Welcome to dfnWorks 2.1 documentation!" href="index_docs.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index_docs.html" class="icon icon-home"> dfnWorks
          

          
            
            <img src="_static/dfnworks_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.1, LANL, Docs: LA-UR-17-22216, Software: LA-CC-17-027
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#citing-dfnworks">Citing dfnWorks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-v2-0">What’s new in v2.0?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-v2-1">What’s new in v2.1?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-can-one-get-dfnworks">Where can one get dfnWorks?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pydfnworks">pydfnworks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dfngen">dfnGen</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fram">FRAM</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lagrit">LaGriT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dfnflow">dfnFlow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pflotran">PFLOTRAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fehm">FEHM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dfntrans">dfnTrans</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmake">CMake</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visit">VisIt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#paraview">Paraview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-pydfnworks-in-your-python-scripts">Using pydfnworks in your Python scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#about-this-manual">About this  manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributors">Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contact">Contact</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copyright-information">Copyright information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Example Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">dfnWorks Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydfnworks.html">pydfnworks: the dfnWorks python package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfngen.html">dfnGen</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfnflow.html">dfnFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfntrans.html">dfnTrans</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Output files</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index_docs.html">dfnWorks</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index_docs.html">Docs</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>dfnWorks is a parallelized computational suite to generate three-dimensional
discrete fracture networks (DFN) and simulate flow and transport. Developed at
Los Alamos National Laboratory, it has been used to study flow and transport
in fractured media at scales ranging from millimeters to kilometers. The
networks are created and meshed using dfnGen, which combines FRAM (the feature
rejection algorithm for meshing) methodology to stochastically generate
three-dimensional DFNs with the LaGriT meshing toolbox to create a high-quality
computational mesh representation. The representation produces a conforming
Delaunay triangulation suitable for high performance computing finite volume
solvers in an intrinsically parallel fashion. Flow through the network is
simulated with dfnFlow, which utilizes the massively parallel subsurface flow
and reactive transport finite volume code PFLOTRAN. A Lagrangian approach to
simulating transport through the DFN is adopted within dfnTrans to determine
pathlines and solute transport through the DFN. Applications of the dfnWorks
suite include nuclear waste repository science, hydraulic fracturing and
CO<sub>2</sub> sequestration.</p>
<p>To run a workflow using the dfnWorks suite, the pydfnworks package is
highly recommended. pydfnworks calls various tools in the dfnWorks suite with
the aim to provide a seamless workflow for scientific applications of dfnWorks.</p>
<div class="section" id="citing-dfnworks">
<h2>Citing dfnWorks<a class="headerlink" href="#citing-dfnworks" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S0098300415300261/">Hyman, J. D., Karra, S., Makedonska, N., Gable, C. W., Painter, S. L., &amp;
Viswanathan, H. S. (2015). dfnWorks: A discrete fracture network framework
for modeling subsurface flow and transport. Computers &amp; Geosciences, 84,
10-19.</a></p>
<p><em>BibTex:</em></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>  @article{hyman2015dfnWorks,
    title={dfnWorks: A discrete fracture network framework
for modeling subsurface flow and transport},
    author={Hyman, Jeffrey D and Karra, Satish and Makedonska,
Nataliia and Gable, Carl W and Painter, Scott L
and Viswanathan, Hari S},
    journal={Computers \&amp; Geosciences},
    volume={84},
    pages={10--19},
    year={2015},
    publisher={Elsevier}
  }
</pre></div>
</div>
</div>
<div class="section" id="what-s-new-in-v2-0">
<h2>What’s new in v2.0?<a class="headerlink" href="#what-s-new-in-v2-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>New dfnGen C++ code which is much faster than the Mathematica dfnGen. This code has successfully generated networks with 350,000+ fractures.</li>
<li>Increased functionality in the pydfnworks package for more streamlined workflow from dfnGen through visualization.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-v2-1">
<h2>What’s new in v2.1?<a class="headerlink" href="#what-s-new-in-v2-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Bug fixes in LaGrit Meshing</li>
<li>Increased functionalities in pydfnworks including the path option</li>
</ul>
</div>
<div class="section" id="where-can-one-get-dfnworks">
<h2>Where can one get dfnWorks?<a class="headerlink" href="#where-can-one-get-dfnworks" title="Permalink to this headline">¶</a></h2>
<p>dfnWorks 2.1 can be downloaded from <a class="reference external" href="https://github.com/lanl/dfnWorks/">https://github.com/lanl/dfnWorks/</a></p>
<p>v1.0 can be downloaded from <a class="reference external" href="https://github.com/dfnWorks/dfnWorks-Version1.0">https://github.com/dfnWorks/dfnWorks-Version1.0</a></p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Tools that you will need to run the dfnWorks work flow are described in
this section. VisIt and ParaView, which enable visualization of desired
quantities on the DFNs, are optional, but at least one of them is highly
recommended for visualization. CMake is also optional but allows faster IO
processing using C++.</p>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>pydfnworks is supported on Python 2.7. The software authors recommend using
the Anaconda 2.7 distribution of Python, available at <a class="reference external" href="https://www.continuum.io/">https://www.continuum.io/</a>.
pydfnworks requires the <code class="docutils literal"><span class="pre">numpy</span></code> and <code class="docutils literal"><span class="pre">h5py</span></code> modules to be installed.</p>
</div>
<div class="section" id="pydfnworks">
<h3>pydfnworks<a class="headerlink" href="#pydfnworks" title="Permalink to this headline">¶</a></h3>
<p>The source for pydfnworks can be found in the dfnWorks suite, in the folder
pydfnworks.</p>
</div>
<div class="section" id="dfngen">
<h3>dfnGen<a class="headerlink" href="#dfngen" title="Permalink to this headline">¶</a></h3>
<p>dfnGen primarily involves two steps: FRAM (the feature rejection algorithm for meshing) and LaGriT, the meshing tool box used to create a
conforming Delaunay triangulation of the network.</p>
<div class="section" id="fram">
<h4>FRAM<a class="headerlink" href="#fram" title="Permalink to this headline">¶</a></h4>
<p>FRAM (the feature rejection algorithm for meshing) is executed using the
dfnGen C++ source code, contained in the dfnGen folder of the dfnWorks repository.</p>
</div>
<div class="section" id="lagrit">
<h4>LaGriT<a class="headerlink" href="#lagrit" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="https://lagrit.lanl.gov">LaGriT</a> meshing toolbox is used to create a high resolution computational
mesh representation of the DFN in parallel. An algorithm for conforming
Delaunay triangulation is implemented so that fracture intersections are
coincident with triangle edges in the mesh and Voronoi control volumes are
suitable for finite volume flow solvers such as FEHM and PFLOTRAN.</p>
</div>
</div>
<div class="section" id="dfnflow">
<h3>dfnFlow<a class="headerlink" href="#dfnflow" title="Permalink to this headline">¶</a></h3>
<p>You will need one of either PFLOTRAN or FEHM to solve for flow using the
mesh files from LaGriT.</p>
<div class="section" id="pflotran">
<h4>PFLOTRAN<a class="headerlink" href="#pflotran" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://pflotran.org">PFLOTRAN</a>  is a massively parallel subsurface flow and reactive transport
code. PFLOTRAN solves a system of partial differential equations for
multiphase, multicomponent and multiscale reactive flow and transport in
porous media. The code is designed to run on leadership-class supercomputers
as well as workstations and laptops.</p>
</div>
<div class="section" id="fehm">
<h4>FEHM<a class="headerlink" href="#fehm" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://fehm.lanl.gov">FEHM</a> is a subsurface multiphase flow code developed at Los Alamos National
Laboratory.</p>
</div>
</div>
<div class="section" id="dfntrans">
<h3>dfnTrans<a class="headerlink" href="#dfntrans" title="Permalink to this headline">¶</a></h3>
<p>dfnTrans is a method for resolving solute transport using control volume flow
solutions obtained from dfnFlow on the unstructured mesh generated using
dfnGen. We adopt a Lagrangian approach and represent a non-reactive
conservative solute as a collection of indivisible passive tracer particles.</p>
</div>
<div class="section" id="cmake">
<h3>CMake<a class="headerlink" href="#cmake" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://cmake.org">CMake</a> is an open-source, cross-platform family of tools designed to build,
test and package software. It is needed to use C++ for processing files at a
bottleneck IO step of dfnWorks. Using C+C++ for this file processing optional
but can greatly increase the speed of dfnWorks for large fracture networks.
Details on how to use C++ for file processing are in the scripts section of
this documentation.</p>
</div>
<div class="section" id="visit">
<h3>VisIt<a class="headerlink" href="#visit" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://wci.llnl.gov/codes/visit">VisIt</a> is a parallel, open-source visualisation software. PFLOTRAN can output
in <code class="docutils literal"><span class="pre">.xmf</span></code> and <code class="docutils literal"><span class="pre">.vtk</span></code> format. These can be imported in VisIt for visualization.</p>
<p>Instructions for downloading and installing <a class="reference external" href="https://wci.llnl.gov/codes/visit">VisIt</a> can be found at
<a class="reference external" href="https://wci.llnl.gov/codes/visit/download.html">https://wci.llnl.gov/codes/visit/download.html</a></p>
</div>
<div class="section" id="paraview">
<h3>Paraview<a class="headerlink" href="#paraview" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.paraview.org">Paraview</a> is a parallel, open-source visualisation software. PFLOTRAN can
output in <code class="docutils literal"><span class="pre">.xmf</span></code> and <code class="docutils literal"><span class="pre">.vtk</span></code> format. These can be imported in Paraview
for visualization.</p>
<p>Instructions for downloading and installing <a class="reference external" href="http://www.paraview.org">Paraview</a> can be found at
<a class="reference external" href="http://www.paraview.org/download/">http://www.paraview.org/download/</a></p>
</div>
</div>
<div class="section" id="using-pydfnworks-in-your-python-scripts">
<h2>Using pydfnworks in your Python scripts<a class="headerlink" href="#using-pydfnworks-in-your-python-scripts" title="Permalink to this headline">¶</a></h2>
<p>To access the functionality of pydfnworks, the user must include the
following line at the
top of any Python script</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pydfnworks</span>
</pre></div>
</div>
<p>Before doing this, one needs to ensure that the pydfnworks directory is in the
PYTHONPATH. This can be done by configuring <code class="docutils literal"><span class="pre">cshrc</span></code> or <code class="docutils literal"><span class="pre">bashrc</span></code> files.
Alternatively, one can add the pydfnworks path using <code class="docutils literal"><span class="pre">sys.path.append()</span></code>
in their driver script.</p>
</div>
<div class="section" id="about-this-manual">
<h2>About this  manual<a class="headerlink" href="#about-this-manual" title="Permalink to this headline">¶</a></h2>
<p>This manual comprises of information on setting up inputs to dfnGen, dfnTrans
and PFLOTRAN, as well as details on the pydfnworks module: <a class="reference internal" href="pydfnworks.html#dfnworks-python-chapter"><span class="std std-ref">pydfnworks</span></a>. Finally, the manual contains a short tutorial
with prepared examples that  can be found in the <code class="docutils literal"><span class="pre">tests</span></code> directory of the
dfnWorks repository, and a description of some applications of the dfnWorks
suite.</p>
</div>
<div class="section" id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Jeffrey Hyman</li>
<li>Satish Karra</li>
<li>Nataliia Makedonska</li>
<li>Carl Gable</li>
<li>Hari Viswanathan</li>
<li>Quan Bui (now at University of Maryland)</li>
<li>Jeremy Harrod (now at Spectra Logic)</li>
<li>Scott Painter (now at ORNL)</li>
</ul>
</div>
<div class="section" id="contact">
<h2>Contact<a class="headerlink" href="#contact" title="Permalink to this headline">¶</a></h2>
<p>For any questions about dfnWorks, please email <a class="reference external" href="mailto:dfnworks&#37;&#52;&#48;lanl&#46;gov">dfnworks<span>&#64;</span>lanl<span>&#46;</span>gov</a>.</p>
</div>
<div class="section" id="copyright-information">
<h2>Copyright information<a class="headerlink" href="#copyright-information" title="Permalink to this headline">¶</a></h2>
<p>Documentation:</p>
<p>LA-UR-17-22216</p>
<p>Software copyright:</p>
<p>LA-CC-17-027</p>
<p>Copyright 2017. Los Alamos National Security, LLC. This software was produced under U.S. Government contract DE-AC52-06NA25396 for Los Alamos National Laboratory (LANL), which is operated by Los Alamos National Security, LLC for the U.S. Department of Energy. The U.S. Government has rights to use, reproduce, and distribute this software.  NEITHER THE GOVERNMENT NOR LOS ALAMOS NATIONAL SECURITY, LLC MAKES ANY WARRANTY, EXPRESS OR IMPLIED, OR ASSUMES ANY LIABILITY FOR THE USE OF THIS SOFTWARE.  If software is modified to produce derivative works, such modified software should be clearly marked, so as not to confuse it with the version available from LANL.</p>
<p>Additionally, redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol class="arabic simple">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of Los Alamos National Security, LLC, Los Alamos National Laboratory, LANL, the U.S. Government, nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY LOS ALAMOS NATIONAL SECURITY, LLC AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL LOS ALAMOS NATIONAL SECURITY, LLC OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>Additionally, this program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or (at your
option) any later version. Accordingly, this program is distributed in the
hope that it will be useful, but WITHOUT ANY WARRANTY; without even the
implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index_docs.html" class="btn btn-neutral" title="Welcome to dfnWorks 2.1 documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, LANL, LA-UR-17-22216.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>